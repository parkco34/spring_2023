/*
 * The history teacher at your school needs help in grading a True/False test. The students’ IDs and test answers are stored in a file. The first entry in the file contains answers ...
 * POINT SYSTEM:
 * T = 2
 * F = -1
 * NULL = 0
 * ----
 * The exam has 20 questions, and the class has more than 150 students. 
 * Each correct answer is awarded two points, 
 * each wrong answer gets one point deducted, 
 * and no answer gets zero points. 
 * ----
 * Write a program that processes the test data. The output should be the student’s ID, followed by the answers, followed by the test score, followed by the test grade:
 *  -> Student's IDs
 *  -> Answers
 *  -> Test Scores
 *  -> Test Grade
 *  -> 
 *
 * Remember, a space indicates that a question has been skipped. If spaces are added for formating, there are too many or too few, it may affect the accuracy of your program.
 --------------------------------------
Example: 
    ABC54102 T FTFTFTTTFTTFTTF TF
    score = 2+0-1+1-1+1-1+1+1+1-1+1+1-1+1+1-1+0+1-1
         = 
 --------------------------------------
 * */
#include <iostream>
#include <fstream>
#include <string>

using namespace std;

int getScore(string str)
    // Loops thru answers and returns score for the string of text
{
    int score = 0;
    for (char c: str) {
        if (c == 'T')
            score += 2;

        else if (c == 'F')
            score -= 1;

        else
            continue;

    }
    return score;
}

char getLetterGrade(int score)
{
    if (score >= 90) return 'A';
    else if (score >= 90) return 'B';
    else if (score >= 80) return 'C';
    else if (score >= 70) return 'D';
    else return 'F';
}

int main()
{
    char ID_LETTERS = 8; // Number of letters in each student id
    const int QUESTIONS = 20; // Number of questions
    const int NUM_OF_STUDENTS = 4; // Number of student ids
    string student_ids[NUM_OF_STUDENTS];
    // Store answers to the 20 questions
    char answers[21];
    int scores[NUM_OF_STUDENTS];
    string str;
    int counter = 0; // For keeping track of which student we store scores for

    // Read text file
    ifstream infile("Ch12_Ex2Data.txt");
    // check file opened properly 
    if (!infile) {
        cout << "File did not open properly" << endl;
        return 1;
    }

    getline(infile, str);
    for (int i=0; i < str.length(); i++)
        answers[i] = str[i];
  
    while(getline(infile, str) && counter < NUM_OF_STUDENTS) {
        // Get Student ids
        char prevChar = '\0';
        int index = str.find(' ');
        student_ids[counter] = str.substr(0, index);
    
        //Gets student's scores
        scores[counter] = getScore(str.substr(index+1, string::npos));
        
        // Next!
        counter++;
    }

    // Output every element in the array
    for (int i=0; i<5; i++) {
        cout << "Student IDs: " << endl;
        cout << student_ids[i] << endl;
        cout << "Student's Scores:" << endl;
        cout << scores[i] << endl;
    }
    
    return 0;
}
